# 5. 일급 함수

- 파이썬 함수의 일급 특성에 대해 탐구
- 기본 개념은 함수를 변수에 할당하고, 다른 함수에 전달하고, 데이터 구조체에 저장하며, 함수 속성에 접근해서 프레임워크나 도구가 이 속성 정보를 사용할 수 있게 해주는 것이다.
- 함수형 프로그래밍의 기본적인 특징인 고위 함수를 파이썬에서 쉽게 볼 수 있다. sorted(), min(), max() 내장 함수와 functools, partial()이 자주 사용되는 고위 함수다.
- 파이썬의 콜러블 특징을 알아봤다.
  - 파이썬에서 콜러블은 7가지 형태로 구현할 수 있다.
  - 모든 콜러블은 callable() 내장 함수가 탐지할 수 있다.
  - 파이썬 3부터 키워드 전용 매개변수, 애너테이션 등 매개변수를 선언하는 풍부한 구문을 지원한다.
- operator 모듈에서 제공하는 함수 몇 개와 functools.partial() 함수는 쉽게 함수형 프로그래밍을 할 수 있게 해준다. (기능이 떨어지는 람다 구문을 사용할 필요 없다.)



---

## 시작

**일급 객체(일급 객체로서의 함수)의 정의**

- 런타임에 생성할 수 있다.
- 데이터 구조체의 변수나 요소에 할당할 수 있다.
- 함수 인수로 전달할 수 있다.
- 함수 결과로 반환할 수 있다.

> https://ko.wikipedia.org/wiki/%EC%9D%BC%EA%B8%89_%EA%B0%9D%EC%B2%B4
>
> 컴퓨터 프로그래밍 언어 디자인에서, 일급 객체(first-class object)란 다른 객체들에 일반적으로 적용 가능한 연산을 모두 지원하는 객체를 가리킨다. 보통 함수에 매개변수로 넘기기, 수정하기, 변수에 대입하기와 같은 연산을 지원할 때 일급 객체라고 한다.

파이썬의 **함수**, 정수, 문자열, 딕셔너리는 일급 객체다. 대단한 것은 없다. 하지만 함수가 일급 구성원이 아닌 다른 언어에서 넘어온 독자들에게는 생소할 수도 있다.



## 5.1 함수를 객체처럼 다루기

예제를 통해 파이썬 함수가 객체임을 보여준다. 함수 객체의 '일급' 본질을 보여준다.

- 콘솔 세션에 있는 상태에서 함수를 선언하면 함수를 '런타임'에 만들고 있는 것이다.
- `__doc__`은 함수 객체의 여러 속성 중 하나다.
- `def`로 선언한 함수는 function 클래스의 객체다.
- 함수를 변수에 할당한다.
- 변수명을 통해 함수를 호출한다.
- 다른 함수의 인수로 전달할 수 있다.

일급 함수가 있으면 함수형 스타일로 프로그래밍할 수 있다. 



## 5.2 고위 함수

함수형 프로그래밍의 특징 중 하나는 고위 함수이다.

고위 함수(higher-order function)란? 함수를 인수로 받거나, 함수를 결과로 반환하는 함수를 고위 함수라고 한다.

함수형 프로그래밍 세계에서는 map(), filter(), reduce(), apply() 등의 고위 함수가 널리 알려져 있다.
apply()는 python 2.3에서 사용 중단되었고 python3에서 제거되었다.



## 5.3 map(), filter(), reduce()의 대안

파이썬에서는 지능형 리스트와 제너레이터 표현식이 소개된 후에는 map(), filter(), reduce() 함수들의 중요성이 떨어졌다.
지능형 리스트와 제너레이터 표현식이 대신 표현할 수 있을 뿐만 아니라 가독성도 더 좋기 때문이다.

- map(), filter()
  - 제너레이터(일종의 반복 가능 객체)를 반환하므로 제너레이터 표현식이 이 함수들을 대체한다.
- reduce()
  - 파이썬3에서 functools 모듈로 떨어져 나왔다.
  - sum()을 사용하는 것이 가독성과 성능면에서 훨씬 낫다. 
  - sum()과는 연속된 항목에 어떤 연산을 적용해서, 이전 결과를 누적시키면서 일련의 값을 하나의 값으로 리덕션한다는 공통점이 있다.

> 리덕션 함수란?
>
> 